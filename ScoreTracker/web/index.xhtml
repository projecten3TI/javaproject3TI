<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="utf-8"/>
        <title>Java Groep 7</title>
        <!-- CSS LINKS -->
        <link rel="stylesheet" href="CSS/font-awesome.css"/>
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.9/css/dataTables.bootstrap.min.css"/>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="CSS/main.css"/>
        <!-- END CSS LINKS -->

        <!-- BEGIN JS -->
        <script src='http://code.jquery.com/jquery-2.1.4.min.js'/>
        <script src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"/>
        <script src="https://cdn.datatables.net/1.10.9/js/dataTables.bootstrap.min.js"/>
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'/>
        <link href='http://fonts.googleapis.com/css?family=Vollkorn:700italic,400' rel='stylesheet' type='text/css'/>
        <link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'/>
        <!-- END JS IMPORT -->
    </h:head>
    <h:body>

        <header>
            <a href="#" class="logo">
                <em>Score</em><strong>tracker</strong>
            </a>
            <nav>
                <ul>
                    <li><a href="#">Upload Excel</a></li>
                    <li><a href="#">Bekijk Punten</a></li>
                    <li><a href="#">Manage</a></li>
                </ul>      
            </nav>
        </header>
        <div class="container">
            
            <div class="btn-group btn-group-lg " role="group" aria-label="...">
                <button type="button" class="btn btn-default">Per test</button>
                <button type="button" class="btn btn-default">Per student</button>
            </div>
            <div>
                <h:form id="searchForm">
                <select name="sourcesClass" id="sources" class="custom-select sources" placeholder="Klas">
                    <ui:repeat var="item" value="#{dataBean.klasses}">
                        <option value="#{item.id}">#{item.name}</option>
                    </ui:repeat>
                </select>
                <select name="sourcesCourse" id="sources" class="custom-select sources" placeholder="Vak">
                    <ui:repeat var="item" value="#{dataBean.courses}">
                        <option value="#{item.id}">#{item}</option>
                    </ui:repeat>
                </select>
                <select name="sourcesTest" id="sources" class="custom-select sources" placeholder="Test">
                    <ui:repeat var="item" value="#{dataBean.tests}">
                        <option value="#{item.id}">#{item}</option>
                    </ui:repeat>
                </select>
                    
                    <h:commandButton id="wtf" value="Search" action="#{dataBean.runSubmit()}">
                        
                    </h:commandButton>
                </h:form>
            </div>


            <!-- Table -->
            <div>
                <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Test name</th>
                            <th>Course name</th>
                            <th>R-Number</th>
                            <th>Score</th>
                            <th>Max Score</th>
                            <th>Class</th>
                        </tr>
                    </thead>

                    <tfoot>
                        <tr>
                            <th>Test name</th>
                            <th>Course name</th>
                            <th>R-Number</th>
                            <th>Score</th>
                            <th>Max Score</th>
                            <th>Class</th>
                        </tr>
                    </tfoot>

                    <tbody>
                        <ui:repeat var="item" value="#{dataBean.getTeststudents()}">
                        <tr>
                            <td>#{item.testId.name}</td>
                            <td>#{item.testId.courseId.name}</td>
                            <td>#{item.userId.RNr}</td>
                            <td>#{item.score}</td>
                            <td>#{item.testId.maxScore}</td>
                            <td>${item.userId.klasId.name}</td>
                        </tr>
                    </ui:repeat>
                        
                        <!--<f:ajax execute="sourcesCourse" render="ajaxFill" listener=""/>
                        <f:ajax execute="sourcesTest" render="ajaxFill" listener=""/>-->
                        <div id="ajaxFill">
                            
                        </div>
                    </tbody>
                </table>
            </div>

        </div>
        <script src='js/select.js'/>
    </h:body>
</html>

